Running backtest for evaluation...
Loading historical data from historical_data.csv...
Historical data for testing loaded for tickers: ['AAPL' 'GOOG' 'MSFT'].
Starting backtest...

--- Running backtest for AAPL ---
ShortTermAgent LLM Vote: SELL, Confidence: 0.8
LongTermAgent LLM Vote: SELL, Confidence: 0.7
/Users/gailleamolong/Documents/Documents/LayeredMemoryTrader/memory/memory_manager.py:41: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  self.reflection_memory = pd.concat([self.reflection_memory, new_reflection], ignore_index=True)
ShortTermAgent LLM Vote: BUY, Confidence: 0.6
LongTermAgent LLM Vote: HOLD, Confidence: 0.3
ShortTermAgent LLM Vote: SELL, Confidence: 0.6
MidTermAgent LLM Vote: BUY, Confidence: 0.6
LongTermAgent LLM Vote: HOLD, Confidence: 0.3
ShortTermAgent LLM Vote: SELL, Confidence: 0.6
MidTermAgent LLM Vote: HOLD, Confidence: 0.4
LongTermAgent LLM Vote: HOLD, Confidence: 0.3
ShortTermAgent LLM Vote: SELL, Confidence: 0.6
MidTermAgent LLM Vote: SELL, Confidence: 0.7
LongTermAgent LLM Vote: HOLD, Confidence: 0.3
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.6
LongTermAgent LLM Vote: BUY, Confidence: 0.6
ShortTermAgent LLM Vote: SELL, Confidence: 0.8
MidTermAgent LLM Vote: SELL, Confidence: 0.8
LongTermAgent LLM Vote: SELL, Confidence: 0.6
ShortTermAgent LLM Vote: SELL, Confidence: 0.7
MidTermAgent LLM Vote: BUY, Confidence: 0.6
LongTermAgent LLM Vote: HOLD, Confidence: 0.3
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.8
ShortTermAgent LLM Vote: SELL, Confidence: 0.6
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: HOLD, Confidence: 0.3
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.7
ShortTermAgent LLM Vote: BUY, Confidence: 0.6
MidTermAgent LLM Vote: BUY, Confidence: 0.7
LongTermAgent LLM Vote: BUY, Confidence: 0.6
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.6
ShortTermAgent LLM Vote: SELL, Confidence: 0.7
MidTermAgent LLM Vote: BUY, Confidence: 0.7
LongTermAgent LLM Vote: BUY, Confidence: 0.6
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.8
ShortTermAgent LLM Vote: SELL, Confidence: 0.6
MidTermAgent LLM Vote: HOLD, Confidence: 0.6
LongTermAgent LLM Vote: HOLD, Confidence: 0.3
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.6
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.8
ShortTermAgent LLM Vote: SELL, Confidence: 0.6
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.6
ShortTermAgent LLM Vote: SELL, Confidence: 0.8
MidTermAgent LLM Vote: SELL, Confidence: 0.7
LongTermAgent LLM Vote: SELL, Confidence: 0.7
  Processed up to day 100 for AAPL. Last decision: SELL
ShortTermAgent LLM Vote: BUY, Confidence: 0.6
MidTermAgent LLM Vote: SELL, Confidence: 0.7
LongTermAgent LLM Vote: HOLD, Confidence: 0.3
ShortTermAgent LLM Vote: SELL, Confidence: 0.7
MidTermAgent LLM Vote: SELL, Confidence: 0.8
LongTermAgent LLM Vote: HOLD, Confidence: 0.3
ShortTermAgent LLM Vote: BUY, Confidence: 0.7
MidTermAgent LLM Vote: BUY, Confidence: 0.6
LongTermAgent LLM Vote: HOLD, Confidence: 0.4
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.7
LongTermAgent LLM Vote: BUY, Confidence: 0.8
ShortTermAgent LLM Vote: SELL, Confidence: 0.6
MidTermAgent LLM Vote: HOLD, Confidence: 0.6
LongTermAgent LLM Vote: HOLD, Confidence: 0.4

--- Running backtest for GOOG ---
ShortTermAgent LLM Vote: HOLD, Confidence: 0.0
MidTermAgent LLM Vote: HOLD, Confidence: 0.0
LongTermAgent LLM Vote: HOLD, Confidence: 0.2
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: HOLD, Confidence: 0.0
LongTermAgent LLM Vote: BUY, Confidence: 0.8
ShortTermAgent LLM Vote: BUY, Confidence: 0.7
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.8
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.8
ShortTermAgent LLM Vote: BUY, Confidence: 0.6
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: HOLD, Confidence: 0.3
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: HOLD, Confidence: 0.4
ShortTermAgent LLM Vote: SELL, Confidence: 0.6
MidTermAgent LLM Vote: HOLD, Confidence: 0.4
LongTermAgent LLM Vote: HOLD, Confidence: 0.4
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.6
ShortTermAgent LLM Vote: BUY, Confidence: 0.7
MidTermAgent LLM Vote: BUY, Confidence: 0.7
LongTermAgent LLM Vote: HOLD, Confidence: 0.4
ShortTermAgent LLM Vote: SELL, Confidence: 0.6
MidTermAgent LLM Vote: BUY, Confidence: 0.7
LongTermAgent LLM Vote: HOLD, Confidence: 0.4
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.8
ShortTermAgent LLM Vote: SELL, Confidence: 0.6
MidTermAgent LLM Vote: BUY, Confidence: 0.7
LongTermAgent LLM Vote: BUY, Confidence: 0.6
ShortTermAgent LLM Vote: SELL, Confidence: 0.7
MidTermAgent LLM Vote: HOLD, Confidence: 0.6
LongTermAgent LLM Vote: HOLD, Confidence: 0.3
ShortTermAgent LLM Vote: BUY, Confidence: 0.6
MidTermAgent LLM Vote: BUY, Confidence: 0.7
LongTermAgent LLM Vote: HOLD, Confidence: 0.3
ShortTermAgent LLM Vote: BUY, Confidence: 0.7
MidTermAgent LLM Vote: BUY, Confidence: 0.7
LongTermAgent LLM Vote: BUY, Confidence: 0.7
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.6
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.7
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.7
ShortTermAgent LLM Vote: SELL, Confidence: 0.8
MidTermAgent LLM Vote: SELL, Confidence: 0.7
LongTermAgent LLM Vote: SELL, Confidence: 0.6
ShortTermAgent LLM Vote: SELL, Confidence: 0.8
MidTermAgent LLM Vote: SELL, Confidence: 0.8
LongTermAgent LLM Vote: SELL, Confidence: 0.8
  Processed up to day 100 for GOOG. Last decision: SELL
ShortTermAgent LLM Vote: BUY, Confidence: 0.6
MidTermAgent LLM Vote: BUY, Confidence: 0.6
LongTermAgent LLM Vote: HOLD, Confidence: 0.4
ShortTermAgent LLM Vote: SELL, Confidence: 0.8
MidTermAgent LLM Vote: SELL, Confidence: 0.8
LongTermAgent LLM Vote: SELL, Confidence: 0.8
ShortTermAgent LLM Vote: SELL, Confidence: 0.8
MidTermAgent LLM Vote: SELL, Confidence: 0.8
LongTermAgent LLM Vote: SELL, Confidence: 0.8
ShortTermAgent LLM Vote: SELL, Confidence: 0.6
MidTermAgent LLM Vote: HOLD, Confidence: 0.4
LongTermAgent LLM Vote: HOLD, Confidence: 0.3
ShortTermAgent LLM Vote: SELL, Confidence: 0.7
MidTermAgent LLM Vote: SELL, Confidence: 0.7
LongTermAgent LLM Vote: HOLD, Confidence: 0.4

--- Running backtest for MSFT ---
ShortTermAgent: Could not parse LLM response: The provided data includes two different tickers, GOOG and MSFT, with overlapping timeframes.  This makes a momentum-based decision impossible without specifying which ticker to analyze.  To provide a recommendation, I need consistent data for a single ticker.

MidTermAgent: Could not parse LLM response: The provided data is inconsistent.  The first 20 data points are for GOOG, while the 5-day and 20-day moving averages appear to be for a different dataset and are not aligned with the GOOG data.  The MSFT data points at the end further complicate matters.  It's impossible to provide a meaningful recommendation with this data.  I need consistent and correctly aligned data to make an informed recommendation.

LongTermAgent LLM Vote: HOLD, Confidence: 0.2
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.6
LongTermAgent LLM Vote: BUY, Confidence: 0.6
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.8
ShortTermAgent LLM Vote: SELL, Confidence: 0.7
MidTermAgent LLM Vote: HOLD, Confidence: 0.4
LongTermAgent LLM Vote: HOLD, Confidence: 0.4
ShortTermAgent LLM Vote: BUY, Confidence: 0.6
MidTermAgent LLM Vote: BUY, Confidence: 0.7
LongTermAgent LLM Vote: HOLD, Confidence: 0.4
ShortTermAgent LLM Vote: SELL, Confidence: 0.6
MidTermAgent LLM Vote: BUY, Confidence: 0.7
LongTermAgent LLM Vote: HOLD, Confidence: 0.4
ShortTermAgent LLM Vote: SELL, Confidence: 0.8
MidTermAgent LLM Vote: SELL, Confidence: 0.8
LongTermAgent LLM Vote: SELL, Confidence: 0.8
ShortTermAgent LLM Vote: BUY, Confidence: 0.6
MidTermAgent LLM Vote: SELL, Confidence: 0.7
LongTermAgent LLM Vote: HOLD, Confidence: 0.4
ShortTermAgent LLM Vote: BUY, Confidence: 0.6
MidTermAgent LLM Vote: BUY, Confidence: 0.6
LongTermAgent LLM Vote: HOLD, Confidence: 0.4
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.6
LongTermAgent LLM Vote: BUY, Confidence: 0.7
ShortTermAgent LLM Vote: BUY, Confidence: 0.7
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: HOLD, Confidence: 0.4
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.8
ShortTermAgent LLM Vote: SELL, Confidence: 0.8
MidTermAgent LLM Vote: SELL, Confidence: 0.7
LongTermAgent LLM Vote: HOLD, Confidence: 0.4
ShortTermAgent LLM Vote: BUY, Confidence: 0.6
MidTermAgent LLM Vote: BUY, Confidence: 0.7
LongTermAgent LLM Vote: HOLD, Confidence: 0.3
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.8
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.8
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.7
ShortTermAgent LLM Vote: BUY, Confidence: 0.6
MidTermAgent LLM Vote: BUY, Confidence: 0.8
LongTermAgent LLM Vote: BUY, Confidence: 0.8
ShortTermAgent LLM Vote: SELL, Confidence: 0.8
MidTermAgent LLM Vote: SELL, Confidence: 0.7
LongTermAgent LLM Vote: SELL, Confidence: 0.7
ShortTermAgent LLM Vote: SELL, Confidence: 0.8
MidTermAgent LLM Vote: SELL, Confidence: 0.8
LongTermAgent LLM Vote: SELL, Confidence: 0.7
  Processed up to day 100 for MSFT. Last decision: SELL
ShortTermAgent LLM Vote: SELL, Confidence: 0.8
MidTermAgent LLM Vote: SELL, Confidence: 0.8
LongTermAgent LLM Vote: SELL, Confidence: 0.6
ShortTermAgent LLM Vote: SELL, Confidence: 0.8
MidTermAgent LLM Vote: SELL, Confidence: 0.8
LongTermAgent LLM Vote: SELL, Confidence: 0.7
ShortTermAgent LLM Vote: BUY, Confidence: 0.7
MidTermAgent LLM Vote: BUY, Confidence: 0.6
LongTermAgent LLM Vote: HOLD, Confidence: 0.4
ShortTermAgent LLM Vote: BUY, Confidence: 0.8
MidTermAgent LLM Vote: BUY, Confidence: 0.7
LongTermAgent LLM Vote: BUY, Confidence: 0.8
ShortTermAgent LLM Vote: SELL, Confidence: 0.8
MidTermAgent LLM Vote: SELL, Confidence: 0.6
LongTermAgent LLM Vote: HOLD, Confidence: 0.3

Backtest finished.

Trade log saved to documentation/results/trade_log.csv

 Backtest Evaluation Results:
Total Trades: 37
Wins: 25
Win Rate: 67.57%
Win/loss chart saved to documentation/results/win_loss_pie_chart.png
Portfolio performance graph saved to documentation/results/portfolio_performance.png

--- AAPL Advanced Metrics ---
Sharpe Ratio: 6.17
Max Drawdown: -4.86%

--- GOOG Advanced Metrics ---
Sharpe Ratio: 4.36
Max Drawdown: -6.08%

--- MSFT Advanced Metrics ---
Sharpe Ratio: 0.05
Max Drawdown: -6.13%

Summary report saved to documentation/results/summary_report.md
 